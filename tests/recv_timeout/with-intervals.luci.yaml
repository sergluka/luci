types:
  - use: recv_timeout::proto::Hi
    as:  Hi
  - use: recv_timeout::proto::Bye
    as:  Bye

actors:
  - actor
dummies:
  - dummy

events:
  - id: run for
    delay:
      for: 2m
      step: 500ms

  - id: dummy-says-hi-to-actor
    send:
      from: dummy
      type: Hi
      data:
        literal: ~
    
  - id: actor-says-hi-back
    require: reached
    recv:
      from: actor
      to: dummy
      type: Hi
      data: ~
      after_duration: 900ms
      before_duration: 1s100ms
  
  - id: actor-does-not-say-bye-between-10s-and-20s
    require: unreached
    recv:
      from: actor
      to: dummy
      type: Bye
      data: ~
      after_duration: 10s
      before_duration: 20s

  - id: actor-does-not-say-bye-between-20s-and-30s
    require: unreached
    recv:
      from: actor
      to: dummy
      type: Bye
      data: ~
      after_duration: 20s
      before_duration: 30s
  
  - id: actor-does-not-say-bye-between-40s-and-50s
    require: unreached
    recv:
      from: actor
      to: dummy
      type: Bye
      data: ~
      after_duration: 40s
      before_duration: 50s

  - id: actor-says-bye-between-65s-and-70s
    require: unreached
    recv:
      from: actor
      to: dummy
      type: Bye
      data: ~
      after_duration: 65s
      before_duration: 70s